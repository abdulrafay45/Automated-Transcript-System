
@{
    ViewBag.Title = "AssignCourse";
}
@model FYPWeb.Model.ManageCourse

<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/font/material-design-icons/Material-Design-Icons.woff" rel="stylesheet">
    <link rel="stylesheet" href="~/CSS/Slide Bar .css" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NUML</title>
    <link rel="shortcut icon" type="image/png" href="~/Images/logo.png" />

    <link rel="stylesheet" href="~/Content/bootstrap.css" />
    <link rel="stylesheet" href="~/Content/bootstrap.css.map" />
    <link rel="stylesheet" href="~/fonts/Font/font-awesome/css/all.min.css" />

</head>

<body>

    <ul id="slide-out" class="side-nav fixed z-depth-2">
        <li class="center no-padding">
            <div class="indigo darken-2 white-text" style="height: 180px;">
                <div class="row">
                    <img style="margin-top: 5%;" width="100" height="100" src="~/Images/Graduation Cap.png" class="responsive-img" />
                    <p style=" color: black; font-family: Minion Variable Concept;">
                        Admin Panel
                    </p>
                </div>
            </div>
        </li>
        <li id="dash_dashboard"><a class="waves-effect" href="@Url.Action("AdminDashboard","Admin")"><i class="fa fa-home"></i>&nbsp;&nbsp;<b>Dashboard</b></a></li>

        <li id="dash_dashboard"><a class="waves-effect" href="@Url.Action("Logout","Student")"><i class="fa fa-sign-out"></i>&nbsp;&nbsp;<b>Logout</b></a></li>


    </ul>

    <header>

        <nav class="indigo" role="navigation">
            <div class="nav-wrapper">
                <a data-activates="slide-out" class="button-collapse show-on-" href="#!"><img style="margin-top: 17px; margin-left: 5px;" src="https://res.cloudinary.com/dacg0wegv/image/upload/t_media_lib_thumb/v1463989873/smaller-main-logo_3_bm40iv.gif" /></a>
                <a href="#" data-activates="slide-out" class="button-collapse"><i class="mdi-navigation-menu"></i></a>
            </div>
        </nav>

    </header>
    <main>
        <div class="row" style="Width:98%; margin-left:2%">


            <div class="col s12">
                <div style="padding: 35px 35px 0 35px; text-align: center;" class="card">
                    <div class="row" style="margin: 0;">
                        <div class="card-title">
                            <b>Profile Detail</b>
                        </div>
                    </div>
                    <div class="row">
                        <div style="padding: 10px 30px 30px 30px;" class="col s12 lighten-3 waves-effect">
                            <div class="row">
                                <!-- Profile Picture Column -->
                                <div class="col s12 m4">
                                    <img src="~/Images/Rectangle 1.jpg" class="responsive-img" style="border-radius: 20%;" alt="Profile Picture" />
                                </div>
                                <!-- End Profile Picture Column -->
                                <!-- Profile Details Column -->
                                <div class="col s12 m8" style=" color: black;">
                                    <div style="text-align: left; font-family: 'Minion Variable Concept';">
                                        <h2>@Model.Admin.Name</h2>
                                        <h3>Admin Id: @Model.Admin.AdminStaffId</h3>
                                        <h3>Department: Admin Branch</h3>
                                    </div>
                                </div>
                                <!-- End Profile Details Column -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            @using (Html.BeginForm("AssignCourse", "Admin", FormMethod.Post, new { enctype = "multipart/form-data" }))
            {
                <div class="row">
                    <div class="col-md-6 col-sm-12">
                        <div class="form-group row">
                            <label class="col-md-4 col-form-label">Scheme</label>
                            <div class="col-md-8">
                                @Html.TextBoxFor(model => model.studentsCours.Scheme, new { @class = "form-control", placeholder = "Enter Scheme No",Type="", id = "LabCreditHours", required = "required" })
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-4 col-form-label">Semester:</label>
                            <div class="col-md-8">
                                
                                @Html.DropDownListFor(model => model.studentsCours.SemesterNo, new SelectList(Enumerable.Range(1, 11).Select(x => new SelectListItem { Value = x.ToString(), Text = x.ToString() }), "Value", "Text"), "Select Semester", new { @class = "form-control", style = "margin-bottom: 10px;", @required = "required" })
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-4 col-form-label">Course:</label>
                            <div class="col-md-8">
                                @Html.DropDownListFor(model => model.studentsCours.CourseId, new SelectList(Model.Courses, "CourseId", "CourseName"), "-- Select Course --", new { @class = "form-control", @id = "result_CourseId", @required = "required" })
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-4 col-form-label">Program</label>
                            <div class="col-md-8">
                                @Html.DropDownListFor(model => model.studentsCours.Pid, new SelectList(Model.programmes, "ProgrammeId", "ProgrammeName"), "-- Select Program --", new { @class = "form-control", @id = "result_CourseId", @required = "required" })
                            </div>
                        </div>
                    </div>
                    
                </div>
                <div class="row mt-4">
                    <div class="col-md-12 text-center">
                        <input type="submit" clbass="btn btn-primary" style="padding: 10px 20px; font-size: 20px; border-radius: 15px;" value="Assign" />
                    </div>
                </div>
            }

        </div>
    </main>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        $(document).ready(function () {
            // Function to get semesters by selected batch
            $("#result_BatchId").change(function () {
                var batchId = $(this).val();
                var batchNumber = $("#result_BatchId option:selected").text();
                console.log("Selected Batch Id:", batchId); // Debugging log
                console.log("Selected Batch Number:", batchNumber); // Debugging log
                $.ajax({
                    url: "/Admin/GetSemestersForBatch",
                    type: "GET",
                    data: { batchName: batchNumber },
                    success: function (data) {
                        console.log("Received semesters:", data); // Debugging log
                        $("#result_SemesterId").empty();
                        $("#result_SemesterId").append('<option value="">Select Semester</option>'); // Add initial option
                        $.each(data, function (index, item) {
                            $("#result_SemesterId").append('<option value="' + item.Value + '">' + item.Text + '</option>');
                        });
                    },
                    error: function (xhr, status, error) {
                        console.error('Error fetching semesters:', error);
                    }
                });
            });
        });
    </script>
</body>
</html>






